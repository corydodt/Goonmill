<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns='http://www.w3.org/1999/xhtml' xmlns:n="http://nevow.com/ns/nevow/0.1">
  <!-- vi:ft=html
  -->
  <head>
    <meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
    <title>Goonmill Workspace</title>
    <link type="text/css" rel="stylesheet" href="/static/reset.css" />
    <link type="text/css" rel="stylesheet" href="/static/workspace.css" />

    <script type="text/javascript" src=
      "/static/3p/prototype.js"></script>

    <!-- scriptaculous lets you pick only certain modules -->
    <script type="text/javascript" src=
      "/static/3p/scriptaculous.js?load=effects"></script>

    <!-- base component for control.modal and hotkey -->
    <script type="text/javascript" src=
      "/static/3p/livepipe.js"></script>
    <!-- this is the lightbox effect -->
    <script type="text/javascript" src=
      "/static/3p/control.modal.js"></script>
    <!-- keyboard shortcuts -->
    <script type="text/javascript" src=
      "/static/3p/hotkey.cdd.js"></script>

    <!-- templates -->
    <script type="text/javascript" src=
      "/static/3p/jstutil.js"></script>
    <script type="text/javascript" src=
      "/static/3p/jsevalcontext.js"></script>
    <script type="text/javascript" src=
      "/static/3p/jstemplate.js"></script>


    <!-- form field validation -->
    <script type='text/javascript' src=
      "/static/3p/livevalidation_prototype.compressed.js"></script>

    <n:invisible n:render="liveglue" />
  </head>
  <body n:render="workspace">
    <n:slot name="eventBus" />
    <div class="y1">
      <n:slot name="titleEdit" />
      <div class="messageArea" />
    </div>
    <div class="y2">
      <div class="x1 sidebar">
        <div class="x1-1">
          <n:slot name="constituentList" />
        </div>
        <div class="x1-2 search">
          <n:slot name="basicSearch" />
        </div>
      </div>
      <div class="x2">
        <div class="x2x">
          <div class="x2-1 mainActions">
            <n:slot name="mainActions" />
          </div>

          <!-- 
          the itemView will be replaced whenever a constituent is viewed
          -->
          <div class="x2-2 itemView">
            <div class="x2-2-1">
              <div class="x2-2-1x itemHeader" />
            </div>
            <div class="x2-2-2 itemMain" />
          </div>

        </div>
      </div>
    </div>
    <div class="offstage">
      <!-- things that are held offstage with display:none so they can be
      cloned into the "visible" part of the DOM when needed.
      -->

      <!-- the dialog that disambiguates after you click a search hit -->
      <n:slot name="whichNewThing" />

      <!-- the "blank" constituent view -->
      <div class="x2-2 itemView">
        <div class="x2-2-1">
          <div class="x2-2-1x itemHeader" />
        </div>
        <div class="x2-2-2 itemMain" />
      </div>

      <!-- the contents of the image box -->
      <div class="imageBoxMeat">
        <div class="imageBox modalImage">
          <img jsvalues="src:url" />
        </div>
        <hr />
        <input type="button" value="close" jseval=
          "Goonmill.bindCloseBox(this)" />
      </div>

      <!-- Goonmill.confirm -->
      <div class="confirm">
        <span jscontent="message"></span>
        <hr />
        <div class="modalButtonBox">
          <input type="button" jsvalues="value:button1text"
            jseval="this.observe('click', f1)"/>
          <input type="button" jsvalues="value:button2text"
            jseval="this.observe('click', f2)"/>
        </div>
      </div>

    </div>
  </body>
</html>

